
  diversity.estimate = function( sps, type="habitat.based" ) {
    # given a species list sps, re-examine the taxonomic tree and remove redunancies associated with incomplete/inconsistent taxonimc resolution --- eg. redistribute counts of general or family to terminal node taxa, using random allocation (fast) or allocation based upon habitat estimates (slow).

    if (type=="habitat.based") {



    }

    return (res)

  }


 ## TODO
